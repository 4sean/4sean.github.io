# PHP 面向对象


## 面向对象内容

- 类 − 定义了一件事物的抽象特点。类的定义包含了数据的形式以及对数据的操作。

- 对象 − 是类的实例。

- 成员变量 − 定义在类内部的变量。该变量的值对外是不可见的，但是可以通过成员函数访问，在类被实例化为对象后，该变量即可称为对象的属性。

- 成员函数 − 定义在类的内部，可用于访问对象的数据。

- 继承 − 继承性是子类自动共享父类数据结构和方法的机制，这是类之间的一种关系。在定义和实现一个类的时候，可以在一个已经存在的类的基础之上来进行，把这个已经存在的类所定义的内容作为自己的内容，并加入若干新的内容。

- 父类 − 一个类被其他类继承，可将该类称为父类，或基类，或超类。

- 子类 − 一个类继承其他类称为子类，也可称为派生类。

- 多态 − 多态性是指相同的函数或方法可作用于多种类型的对象上并获得不同的结果。不同的对象，收到同一消息可以产生不同的结果，这种现象称为多态性。

- 重载 − 简单说，就是函数或者方法有同样的名称，但是参数列表不相同的情形，这样的同名不同参数的函数或者方法之间，互相称之为重载函数或者方法。

- 抽象性 − 抽象性是指将具有一致的数据结构（属性）和行为（操作）的对象抽象成类。一个类就是这样一种抽象，它反映了与应用有关的重要性质，而忽略其他一些无关内容。任何类的划分都是主观的，但必须与具体的应用有关。

- 封装 − 封装是指将现实世界中存在的某个客体的属性与行为绑定在一起，并放置在一个逻辑单元内。

- 构造函数 − 主要用来在创建对象时初始化对象， 即为对象成员变量赋初始值，总与new运算符一起使用在创建对象的语句中。

- 析构函数 − 析构函数(destructor) 与构造函数相反，当对象结束其生命周期时（例如对象所在的函数已调用完毕），系统自动执行析构函数。析构函数往往用来做"清理善后" 的工作（例如在建立对象时用new开辟了一片内存空间，应在退出前在析构函数中用delete释放）。
- 


> ### 重载与重写
一、什么是重载
1. PHP所提供的"重载"（overloading）是指动态地"创建"类属性和方法，我们是通过魔术方法来实现的。
1. 当调用当前环境下未定义或不可见的类属性或方法时，重载方法会被调用。（屏蔽错误）
1. 所有的重载方法都必须被声明为 public。
1. 属性重载只能在对象中进行。在静态方式中，这些魔术方法将不会被调用。所以这些方法都不能被 声明为 static。
1. 这些魔术方法的参数都不能通过引用传递。
php中的重载，是另一个“概念”，其指的是：

　　==属性重载==：如果使用一个不存在的属性，就会去自动调用类中预先定义好的某个方法以处理数据;
```
- 取值：$v1 = 对象->属性; ===>自动调用类中的__get()方法

- 赋值：对象->属性 = XX值; ===>自动调用类中的__set()方法

- 判断是否存在：isset(对象->属性;) ===>自动调用类中的__isset()方法

- 销毁：unset(对象->属性;) ===>自动调用类中的__unset()方法
```
　　==方法重载==：如果使用一个不存在的方法，就会去自动调用类中预先定义好的某个方法以处理该行为;
##### 　1.__call()魔术方法

```
//定义一个学生类
　class Student
　{
　    //当访问不可访问的方法时
　    //魔术方法__call()会自动调用
　    public function __call($func,$args){
　        echo "该方法不可访问"
　    }
　}
　//创建学生类对象
　$stu = new Student();
　//访问不可访问的方法
　$stu -> showInfo();//该方法不可访问
```
![image](https://note.youdao.com/favicon.ico)

##### 　2.__callStatic()魔术方法


```
//定义一个学生类
class Student
{
    //当用静态方法访问不可访问的方法
    //魔术方法__callStatic()会自动调用
    public static function __callStatic($func,$args){
         echo "该方法不可访问"
    }
}
//访问不可访问的方法
Student::showInfo();//该方法不可访问
```

> ### 抽象类和接口



> ### 魔术方法
魔术方法是PHP面向对象中特有的特性。它们在特定的情况下被触发，都是以双下划线开头，你可以把它们理解为钩子，利用模式方法可以轻松实现PHP面向对象中重载（Overloading即动态创建类属性和方法）。

##### **魔术方法很多还是成对出现的**

> ### 构造函数与析构函数
###### ==构造函数==
构造函数是一种特殊的方法。主要用来在创建对象时初始化对象， 即为对象成员变量赋初始值，在创建对象的语句中与 new 运算符一起使用。

PHP 5 允许开发者在一个类中定义一个方法作为构造函数，语法格式如下：

```
void __construct ([ mixed $args [, $... ]] )
```
在上面的例子中我们就可以通过构造方法来初始化 $url 和 $title 变量：

```
function __construct( $par1, $par2 ) {
   $this->url = $par1;
   $this->title = $par2;
}
```

###### ==析构函数==
析构函数(destructor)==*类似小程序unload*== 与构造函数相反，当对象结束其生命周期时（例如对象所在的函数已调用完毕），系统自动执行析构函数。

```
void __destruct ( void )
```
**例子**

```
<?php
class MyDestructableClass {
   function __construct() {
       print "构造函数\n";
       $this->name = "MyDestructableClass";
   }

   function __destruct() {
       print "销毁 " . $this->name . "\n";
   }
}

$obj = new MyDestructableClass();
?>
```


> ### 异常

